<template>
  <div class="">
    <div style="float:right">
      <div class="header2"></div>
      <input type="checkbox" class="openSidebarMenu2" id="openSidebarMenu2">
      <label for="openSidebarMenu2" class="sidebarIconToggle2">
        <lightning-icon icon-name="action:info" size="small" alternative-text="Instructions" title="Instructions">
        </lightning-icon>
      </label>
      <div class="sidebarMenu2">
        <p>
          INSTRUCTIONS<br /> <br />
          All white cells can be edited. For each customer, inform the data in the following order of the
          labeled columns:<br />
          (1) Confirm if the type of customer in UPL system is correct. In the dropdown list, select the
          correct type.<br />
          (2) Indicate the total purchase of ALL CROP PROTECTION COMPANIES to the channel. This data should be
          indicated as INDUSTRY PRICE. Only consider sales of PRODUCTS from the following categories:<br />
          > Fungicides = total fungicides <br />
          > Insecticides = total insecticides <br />
          > Herbicides = total herbicides <br />
          > Biosolutions = biocontrol and biostimulants products <br />
          > Soil and Seed Health = Seed treatment and special fertilizers <br />
          > Other relevant crop protection products to UPL business <br /><br />
          (3) Estimate the markup (profit margin) in percentage of sales charged by the channel to sell to end
          customers. [ONLY DEALER AND RETAIL / DISTRIBUTOR / COOPERATIVES] <br />
          (4) Check if the total sales to channel (2) and the markup (3) makes up the estimated revenues of
          the channel in farm gate price. If the numbers do not seem rigth, please review columns (1) and
          (2).<br />
          (5) Estimate the number of sales rep that are employees (it can be full-time employees or third
          party) in the channel. Consider only sales rep of the forementioned product categories. [ONLY DEALER
          AND RETAIL / DISTRIBUTOR / COOPERATIVES]<br />
          (6) Estimate the number of outlets the customer has on your country. [ONLY DEALER AND RETAIL /
          DISTRIBUTOR / COOPERATIVES]

        </p>
      </div>
    </div>
  </div>
  <c-gtm-filter-panel onaction={handleFiltersAction} panel-status={panelStatus}></c-gtm-filter-panel>

  <div class="slds-scrollable_x slds-scrollable_y" style="height:300px; overflow-y:scroll; margin-top:15px;">

    <table class="slds-table slds-table_cell-buffer slds-table_bordered"
      aria-labelledby="element-with-table-label other-element-with-table-label">

      <thead>
        <tr>
          <th>Client (Lead Client)
            <lightning-icon icon-name="utility:sort" size="xx-small" alternative-text="Warning!" class="slds-m-right"
              title="Warning"></lightning-icon>
          </th>
          <th>Customer Type
            <lightning-icon icon-name="utility:sort" size="xx-small" alternative-text="Warning!" class="slds-m-right"
              title="Warning"></lightning-icon>
          </th>
          <th style="text-align:center;">(1) Confirm Customer Type <br>
            Indicated on the Left Adjacent Cell
            <lightning-icon icon-name="utility:sort" size="xx-small" alternative-text="Warning!" class="slds-m-right"
              title="Warning"></lightning-icon>
          </th>
          <th style="text-align:center;">(2) Total Purcahse of Crop Protection<br>
            (Industry Price) 2020/21 (USD Million)
            <lightning-icon icon-name="utility:sort" size="xx-small" alternative-text="Warning!" class="slds-m-right"
              title="Warning"></lightning-icon>
          </th>
          <th style="text-align:center;">(3) Estimated Markup of Channel <br> (In % of Sales)
            <lightning-icon icon-name="utility:sort" size="xx-small" alternative-text="Warning!" class="slds-m-right"
              title="Warning"></lightning-icon>
          </th>
          <th style="text-align:center;">(4) Confirm the Estimated <br>
            Revenues of the Customer in 2020/21
            <lightning-icon icon-name="utility:sort" size="xx-small" alternative-text="Warning!" class="slds-m-right"
              title="Warning"></lightning-icon>
          </th>
          <th style="text-align:center;">(5) Estimated Number<br>
            Of Sales REP on Role
            <lightning-icon icon-name="utility:sort" size="xx-small" alternative-text="Warning!" class="slds-m-right"
              title="Warning"></lightning-icon>
          </th>
          <th style="text-align:center;">(6) Number of Stories<br>
            That the Channel has
            <lightning-icon icon-name="utility:sort" size="xx-small" alternative-text="Warning!" class="slds-m-right"
              title="Warning"></lightning-icon>
          </th>
        </tr>
      </thead>
      <tbody>
        <template for:each={paginatedGtmPotentialProfile} for:item="gtm" for:index="index">
          <tr key={gtm.id}>
            <td >{gtm.client}</td>
            <td >{gtm.customerType}</td>
            <td role="gridcell">
              <div class="" title="" style="margin-top: -15px;">
                <div class="slds-form-element">
                  <div class="slds-form-element__control">
                    <lightning-combobox
                    data-id={gtm.id}
                    data-name="GTM_Customer_Type__c"
                    value={defaultSelectedOption}
                    placeholder="Select Progress"
                    options={customerTypeOptions}
                    onchange={handleChangeInput} ></lightning-combobox>
                  </div>
                </div>
              </div>
            </td>
            <td style="text-align:center;">
              <lightning-input style="margin-top:-16px;" type="number" value={gtm.totalPurcahseCrop} data-id={gtm.id} data-name="Total_Purchase_of_Crop_Protection_PY__c" onfocusout={handleChangeInput}>
              </lightning-input>
            </td>
            <td style="text-align:center;">
              <lightning-input style="margin-top:-16px;" type="number" value={gtm.estimateChannel} data-id={gtm.id} data-name="Estimated_Markup_of_Channel__c" onfocusout={handleChangeInput}></lightning-input>
            </td>
            <td style="text-align:center;">The total farm gate revenues are USD $1 million</td>
            <td style="text-align:center;">
              <lightning-input style="margin-top:-16px;" type="number" value={gtm.estimateSalesRepRole} data-id={gtm.id} data-name="Estimated_Number_of_Sales_Rep_on_Role__c" onfocusout={handleChangeInput}></lightning-input>
            </td>
            <td style="text-align:center;">
              <lightning-input style="margin-top:-16px;"  type="number" value={gtm.storiesChannelHas} data-id={gtm.id} data-name="Number_of_Stores_That_the_Channel_Has__c" onfocusout={handleChangeInput}></lightning-input>
            </td>
          </tr>
        </template>
      </tbody>
    </table>

  </div>

  <c-pagination-cmp tabledata={gtmPotentialProfile} onaction={handlePaginationAction}>
    <div class="slds-float_right" style="margin-right: 20rem;" slot="pageNumber"><b class="pagenumber">Page:</b></div>
  </c-pagination-cmp>
</template>