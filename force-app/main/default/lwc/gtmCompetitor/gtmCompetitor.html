<template>
    <table aria-multiselectable="true"
        class="slds-table slds-table_bordered slds-table_fixed-layout slds-table_resizable-cols" role="grid"
        aria-label="Example advanced table of Opportunities in actionable mode">
        <thead>
            <tr class="slds-line-height_reset">
                <th aria-label="Close Date" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                    <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="0">
                        <span class="slds-assistive-text">Sort by: </span>
                        <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                            <span class="slds-truncate" title="Crop  Name">  {lable.Competitor_Name} </span>

                        </div>
                    </a>
                    <div class="slds-resizable">
                        <input type="range" aria-label="Close Date column width"
                            class="slds-resizable__input slds-assistive-text" id="cell-resize-handle-3535" max="1000"
                            min="20" tabindex="0" />
                        <span class="slds-resizable__handle">
                            <span class="slds-resizable__divider"></span>
                        </span>
                    </div>
                </th>

                <th aria-label="Close Date" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                    <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="0">
                        <span class="slds-assistive-text">Sort by: </span>
                        <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                            <span class="slds-truncate" title="Crop  Name">{lable.Display_Name} </span>

                        </div>
                    </a>
                    <div class="slds-resizable">
                        <input type="range" aria-label="Close Date column width"
                            class="slds-resizable__input slds-assistive-text" id="cell-resize-handle-3545" max="1000"
                            min="20" tabindex="0" />
                        <span class="slds-resizable__handle">
                            <span class="slds-resizable__divider"></span>
                        </span>
                    </div>
                </th>

                <!-- <th aria-label="Stage" aria-sort="none" class="slds-is-resizable slds-is-sortable"
                scope="col">
                <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="0">
                    <span class="slds-assistive-text">Sort by: </span>
                    <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                        <span class="slds-truncate" title="Sales Org">Sales Org</span>
                        
                    </div>
                </a>
                <div class="slds-resizable">
                    <input type="range" aria-label="Stage column width"
                        class="slds-resizable__input slds-assistive-text" id="cell-resize-handle-3536"
                        max="1000" min="20" tabindex="0" />
                    <span class="slds-resizable__handle">
                        <span class="slds-resizable__divider"></span>
                    </span>
                </div>
            </th> -->

                <th aria-label="Confidence" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                    <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="0">
                        <span class="slds-assistive-text">Sort by: </span>
                        <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                            <span class="slds-truncate" title="Status">{lable.Applicable_For} {salesOrgName}</span>

                        </div>
                    </a>
                    <div class="slds-resizable">
                        <input type="range" aria-label="Confidence column width"
                            class="slds-resizable__input slds-assistive-text" id="cell-resize-handle-3537" max="1000"
                            min="20" tabindex="0" />
                        <span class="slds-resizable__handle">
                            <span class="slds-resizable__divider"></span>
                        </span>
                    </div>
                </th>

                <th aria-label="Confidence" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                    <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="0">
                        <span class="slds-assistive-text">Sort by: </span>
                        <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                            <span class="slds-truncate" title="Last Modified By">{lable.Last_Modified_By} </span>

                        </div>
                    </a>
                    <div class="slds-resizable">
                        <input type="range" aria-label="Confidence column width"
                            class="slds-resizable__input slds-assistive-text" id="cell-resize-handle-3538" max="1000"
                            min="20" tabindex="0" />
                        <span class="slds-resizable__handle">
                            <span class="slds-resizable__divider"></span>
                        </span>
                    </div>
                </th>


                <th aria-label="Confidence" aria-sort="none" class="slds-is-resizable slds-is-sortable" scope="col">
                    <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="0">
                        <span class="slds-assistive-text">Sort by: </span>
                        <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                            <span class="slds-truncate" title="Last Modified By Date &amp; Time"> {lable.Last_Modified_By_Date}  &amp; Time</span>

                        </div>
                    </a>
                    <div class="slds-resizable">
                        <input type="range" aria-label="Confidence column width"
                            class="slds-resizable__input slds-assistive-text" id="cell-resize-handle-3539" max="1000"
                            min="20" tabindex="0" />
                        <span class="slds-resizable__handle">
                            <span class="slds-resizable__divider"></span>
                        </span>
                    </div>
                </th>



            </tr>
        </thead>
        <tbody>
            
            


            <template for:each={paginatedCompetitorSalesorgMapping} for:item="pscm" for:index="index">
                <tr key={pscm.competitorSalesOrgMappingId} onchange={Change} draggable="true" ondrop={Drop}
                    ondragstart={DragStart} ondragover={DragOver} data-pscm={pscm.competitorSalesOrgMappingId}
                    id={index}>

                    <td role="gridcell">
                        <div class="slds-truncate" data-pscm={pscm.competitorSalesOrgMappingId} id={index}>
                            {pscm.competitorName}</div>
                    </td>

                    <td role="gridcell"> 
                        <!-- <div class="slds-truncate" data-pscm={pscm.competitorSalesOrgMappingId} id={index}>{pscm.displayName}</div> -->
                        <lightning-input type="text" div class="slds-truncate" value={pscm.displayName}
                            data-pscm={pscm.competitorSalesOrgMappingId} id={index} name="displayName"
                            onchange={handleDisplayChange} data-id={pscm.competitorSalesOrgMappingId}>{pscm.displayName}
                        </lightning-input> 
                        <!-- <div class="slds-truncate" data-pscm={pscm.competitorSalesOrgMappingId} id={index}>{pscm.displayName}</div> -->
                    <!-- </td> -->
                    <!-- <td role="gridcell">
                        <div class="slds-truncate" data-pscm={pscm.competitorSalesOrgMappingId} id={index}>{pscm.compSalesOrgName}</div>-->
                    </td>


                    <td role="gridcell">
                        <lightning-combobox name="options" tabindex="0" value={pscm.compstatus}
                            onchange={handleChangeCheckbox} options={optionsCompetitor} data-ccpid={pscm.competitorCategory}
                            data-id={pscm.competitorSalesOrgMappingId} data-pc={pscm.competitorCategory} id={index}
                            data-pscm={pscm.competitorSalesOrgMappingId}>
                        </lightning-combobox>
                        



                    </td>

                    <td role="gridcell">
                        <div class="slds-truncate" data-pscm={pscm.competitorSalesOrgMappingId} id={index}>
                            {pscm.compcreatedByName}</div>
                    </td>
                    <td role="gridcell">
                        <!-- <div class="slds-truncate" title={index}>{pscm.lastModifiedDateName}</div> -->
                        <lightning-formatted-date-time data-pscm={pscm.competitorSalesOrgMappingId} id={index}
                            value={pscm.complastModifiedDateName} year="numeric" month="numeric" day="numeric"
                            hour="2-digit" minute="2-digit" hour12="true"></lightning-formatted-date-time>
                    </td>
                </tr>

            </template>

 
        </tbody>
    </table>
    <div>
       <br/><br/><br/><br/>

        <c-pagination-cmp tabledata={competitorSalesorgMapping} onaction={handlePaginationAction}>
            <div class="slds-float_right" style="margin-right: 20rem;" slot="pageNumber"><b class="pagenumber">Page:1 of
                    10</b></div>
        </c-pagination-cmp>
    
    </div>

    


    <div class="slds-clearfix">
        <div class="slds-m-top_small slds-m-bottom_medium slds-align_absolute-center">

            <!-- Brand variant: Identifies the primary action in a group of buttons -->
            <lightning-button variant="brand" label="Save" title="Save" onclick={SavehandleClick}
                class="slds-m-left_x-small"></lightning-button>

            <!-- Neutral variant (default) -->
            <lightning-button label="Cancel" title="Cancel" onclick={handleClick} class="slds-m-left_x-small">
            </lightning-button>

        </div>
    </div>



</template>